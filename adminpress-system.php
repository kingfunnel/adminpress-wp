<?php

	 /* 
	 Plugin Name: AdminPress System
	 Plugin URI: https://kingfunnel.co
	 Description: Personalización del Admin en WordPress.
	 Version: 1.0.4
	 Author: KingFunnel
	 Author URI: https://kingfunnel.co
	 License: GPL 2+ 
	 License URI: https://kingfunnel.co
	 */ 

add_action('admin_enqueue_scripts','bs_custom_admin_styles');function bs_custom_admin_styles(){wp_enqueue_style('custom-admin-styles',plugins_url('/css/styles-admin.css',__FILE__));}add_action('login_enqueue_scripts','bs_custom_login_styles');function bs_custom_login_styles(){wp_enqueue_style('custom-login-styles',plugins_url('/styles-admin.css',__FILE__));}add_action('wp_enqueue_scripts','bs_custom_theme_styles');function bs_custom_theme_styles(){wp_enqueue_style('custom-theme-styles',plugins_url('/css/styles-theme.css',__FILE__));}add_filter('contextual_help_list','asv_hide_help');function asv_hide_help(){global $current_screen;$current_screen->remove_help_tabs();}function custom_login_logo(){echo '<style type ="text/css">.login h1 a { display:none!important; }</style>';}add_action('login_head','custom_login_logo');add_action('admin_bar_menu','bs_remove_nodes',999);function bs_remove_nodes(){global $wp_admin_bar;$wp_admin_bar->remove_node('comments');$wp_admin_bar->remove_node('wp-logo');$wp_admin_bar->remove_node('search');$wp_admin_bar->remove_node('updates');$wp_admin_bar->remove_node('themes');$wp_admin_bar->remove_node('widgets');$wp_admin_bar->remove_node('new-post');$wp_admin_bar->remove_node('new-elementor_library');$wp_admin_bar->remove_node('new-media');$wp_admin_bar->remove_node('new-shop_order');$wp_admin_bar->remove_node('new-shop_coupon');$wp_admin_bar->remove_node('new-wc_membership_plan');$wp_admin_bar->remove_node('new-wc_user_membership');$wp_admin_bar->remove_node('new-ibx_wpfomo');}add_action('wp_dashboard_setup','bs_costumize_dashboard_widgets');function bs_costumize_dashboard_widgets(){remove_meta_box('dashboard_right_now','dashboard','normal');remove_meta_box('dashboard_activity','dashboard','normal');remove_meta_box('dashboard_primary','dashboard','side');remove_action('welcome_panel','wp_welcome_panel');remove_meta_box('dashboard_site_health','dashboard','normal');remove_meta_box('e-dashboard-overview','dashboard','normal');remove_meta_box('nfw_dashboard_welcome','dashboard','normal');remove_meta_box('fluentsmtp_reports_widget','dashboard','normal');}add_filter('allow_major_auto_core_updates','__return_false');function cleanup_attachment_link($link){return;}add_filter('attachment_link','cleanup_attachment_link');add_filter('auto_plugin_update_send_email','__return_false');add_filter('auto_theme_update_send_email','__return_false');if(!function_exists('wp_password_change_notification')){function wp_password_change_notification(){}}add_action('admin_menu','bs_remove_menu_items');function bs_remove_menu_items(){remove_menu_page('edit-comments.php');}function remove_menus(){remove_menu_page('edit.php');remove_menu_page('themes.php');remove_menu_page('limit-login-attempts');remove_menu_page('mailpoet-newsletters');remove_submenu_page('edit.php','edit-tags.php?taxonomy=post_tag');remove_submenu_page('options-general.php','options-writing.php');remove_submenu_page('options-general.php','options-reading.php');remove_submenu_page('options-general.php','options-media.php');remove_submenu_page('options-general.php','options-privacy.php');remove_submenu_page('tools.php','tools.php');remove_submenu_page('tools.php','import.php');remove_submenu_page('tools.php','export.php');remove_submenu_page('tools.php','export-personal-data.php');remove_submenu_page('tools.php','erase-personal-data.php');remove_submenu_page('tools.php','action-scheduler');remove_submenu_page('edit.php?post_type=ibx_wpfomo','wpfomo-settings');remove_submenu_page('edit.php?post_type=ibx_wpfomo','wpfomo-addons');remove_submenu_page('elementor','elementor-license');remove_submenu_page('NinjaFirewall','NinjaFirewall');remove_submenu_page('NinjaFirewall','nfsubmalwarescan');remove_submenu_page('NinjaFirewall','nfsubwplus');remove_submenu_page('snippets','import-code-snippets');remove_submenu_page('snippets','snippets-settings');remove_submenu_page('wppusher','wppusher');remove_submenu_page('wppusher','wppusher-plugins-create');remove_submenu_page('wppusher','wppusher-themes-create');remove_submenu_page('wppusher','https://wppusher.com/support');remove_submenu_page('fluentcrm-admin','fluentcrm-admin#/forms');remove_submenu_page('fluentcrm-admin','fluentcrm-admin#/settings/smtp_settings');}add_action('admin_menu','remove_menus',999);add_filter('all_plugins','hide_plugins');function hide_plugins($plugins){if(is_plugin_active('adminpress-wp/adminpress-system.php')){unset($plugins['adminpress-wp/adminpress-system.php']);}if(is_plugin_active('code-snippets/code-snippets.php')){unset($plugins['code-snippets/code-snippets.php']);}if(is_plugin_active('mailpoet/mailpoet.php')){unset($plugins['mailpoet/mailpoet.php']);}if(is_plugin_active('ninjafirewall-pro-addons/ninjafirewall-pro-addons.php')){unset($plugins['ninjafirewall-pro-addons/ninjafirewall-pro-addons.php']);}if(is_plugin_active('wppusher/wppusher.php')){unset($plugins['wppusher/wppusher.php']);}if(is_plugin_active('disable-admin-notices/disable-admin-notices.php')){unset($plugins['disable-admin-notices/disable-admin-notices.php']);}return $plugins;}add_filter('woocommerce_admin_features','disable_features');function disable_features($features){$marketing=array_search('marketing',$features);unset($features[$marketing]);return $features;}add_filter('woocommerce_helper_suppress_admin_notices','__return_true');function prefix_toolbar_styles(){echo '<style>#wp-toolbar .ab-icon:before { content: "\f227"; top: 2px; }</style>';}add_action('admin_head','prefix_toolbar_styles');add_action('admin_bar_menu',function($barra_admin){$barra_admin->add_menu(array('id'=>'mi-menu','title'=>'<span class="ab-icon"></span> KingFunnel','href'=>'https://kingfunnel.co/','meta'=>array(),));$barra_admin->add_menu(array('id'=>'recursos','title'=>'Recursos','parent'=>'mi-menu','href'=>'/','meta'=>array(),));$barra_admin->add_menu(array('id'=>'plugins-kingfunnel','title'=>'Plugins','parent'=>'recursos','href'=>'/wp-admin/admin.php?page=ai1wm_export','meta'=>array(),));$barra_admin->add_menu(array('id'=>'plantillas-funnel-kingfunnel','title'=>'Plantillas de Funnels','parent'=>'recursos','href'=>'/wp-admin/admin.php?page=ai1wm_import','meta'=>array(),));$barra_admin->add_menu(array('id'=>'herraminetas-kingfunnel','title'=>'Herramientas','parent'=>'recursos','href'=>'/wp-admin/admin.php?page=ai1wmge_settings','meta'=>array(),));$barra_admin->add_menu(array('id'=>'documentacion-kingfunnel','title'=>'Documentación','parent'=>'mi-menu','href'=>'/wp-admin/admin.php?page=jet-dashboard','meta'=>array(),));$barra_admin->add_menu(array('id'=>'soporte-kingfunnel','title'=>'Soporte','parent'=>'mi-menu','href'=>'/wp-admin/admin.php?page=wpcomplete-courses','meta'=>array(),));},32,1);add_action('wp_head',function(){ ?><style>#wp-toolbar .ab-icon:before{content:"\f227";top:2px}</style><?php });

?>